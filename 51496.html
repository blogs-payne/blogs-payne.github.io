<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="theme-color" content="#222">
    <meta name="generator" content="Hexo 4.2.1">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16-next.png">
    <link rel="mask-icon" href="/images/favicon/safari-pinned-tab.svg" color="#222">
    <meta name="msapplication-config" content="/images/favicon/browserconfig.xml">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
    <link rel="stylesheet" href="/lib/pace/pace-theme-mac-osx.min.css">
    <script src="/lib/pace/pace.min.js"></script>
    <script id="hexo-configurations">
        var NexT = window.NexT ||
        {};
        var CONFIG = {
            "hostname": "paynewu.com",
            "root": "/",
            "scheme": "Gemini",
            "version": "7.8.0",
            "exturl": false,
            "sidebar":
            {
                "position": "right",
                "width": 240,
                "display": "post",
                "padding": 18,
                "offset": 12,
                "onmobile": false
            },
            "copycode":
            {
                "enable": true,
                "show_result": true,
                "style": "mac"
            },
            "back2top":
            {
                "enable": true,
                "sidebar": false,
                "scrollpercent": true
            },
            "bookmark":
            {
                "enable": false,
                "color": "#222",
                "save": "auto"
            },
            "fancybox": false,
            "mediumzoom": true,
            "lazyload": false,
            "pangu": true,
            "comments":
            {
                "style": "tabs",
                "active": "valine",
                "storage": true,
                "lazyload": false,
                "nav": null
            },
            "algolia":
            {
                "hits":
                {
                    "per_page": 10
                },
                "labels":
                {
                    "input_placeholder": "Search for Posts",
                    "hits_empty": "We didn't find any results for the search: ${query}",
                    "hits_stats": "${hits} results found in ${time} ms"
                }
            },
            "localsearch":
            {
                "enable": true,
                "trigger": "auto",
                "top_n_per_article": 8,
                "unescape": false,
                "preload": false
            },
            "motion":
            {
                "enable": false,
                "async": false,
                "transition":
                {
                    "post_block": "bounceDownIn",
                    "post_header": "slideDownIn",
                    "post_body": "slideDownIn",
                    "coll_header": "slideLeftIn",
                    "sidebar": "slideUpIn"
                }
            },
            "path": "search.xml"
        };

    </script>
    <meta name="description" content="启动示例 当我们需要使用Redis的时候需要把redis的服务开启。如下                                             123456                                           # 启动redis-server# 守护进程方式启动redis-server &amp;# 使用自定义redis.conf启动redis-s">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Redis服务与连接那些事儿">
    <meta property="og:url" content="https://paynewu.com/51496.html">
    <meta property="og:site_name" content="吴志鹏｜Payne-Wu">
    <meta property="og:description" content="启动示例 当我们需要使用Redis的时候需要把redis的服务开启。如下                                             123456                                           # 启动redis-server# 守护进程方式启动redis-server &amp;# 使用自定义redis.conf启动redis-s">
    <meta property="og:locale" content="zh_CN">
    <meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gmoqnuejzfj31so0mitc6.jpg">
    <meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gmpopzvxl4j30s40cq0u4.jpg">
    <meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gmppbthbjgj31c80kktbr.jpg">
    <meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gmq0bbke7zj30e0044745.jpg">
    <meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gmq0dsx7o1j30zw06adft.jpg">
    <meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gmq0glrkj0j31pc07udgu.jpg">
    <meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gmq49jlh69j31ao0nmjw9.jpg">
    <meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gmqn2c3zruj31e00943zd.jpg">
    <meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gmqn3y1i0ej30wy0agdgx.jpg">
    <meta property="article:published_time" content="2021-01-17T17:28:06.000Z">
    <meta property="article:modified_time" content="2022-07-27T09:58:26.876Z">
    <meta property="article:author" content="吴志鹏">
    <meta property="article:tag" content="数据库">
    <meta property="article:tag" content="Redis">
    <meta property="article:tag" content="NoSQL">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gmoqnuejzfj31so0mitc6.jpg">
    <link rel="canonical" href="https://paynewu.com/51496.html">
    <script id="page-configurations">
        // https://hexo.io/docs/variables.html
        CONFIG.page = {
            sidebar: "",
            isHome: false,
            isPost: true,
            lang: 'zh-CN'
        };

    </script>
    <title>Redis服务与连接那些事儿 | 吴志鹏｜Payne-Wu</title>
    <meta name="google-site-verification" content="p_bIcnvirkFzG2dYKuNDivKD8-STet5W7D-01woA2fc" />
    <noscript>
        <style>
            .use-motion .brand,
            .use-motion .menu-item,
            .sidebar-inner,
            .use-motion .post-block,
            .use-motion .pagination,
            .use-motion .comments,
            .use-motion .post-header,
            .use-motion .post-body,
            .use-motion .collection-header
            {
                opacity: initial;
            }

            .use-motion .site-title,
            .use-motion .site-subtitle
            {
                opacity: initial;
                top: initial;
            }

            .use-motion .logo-line-before i
            {
                left: initial;
            }

            .use-motion .logo-line-after i
            {
                right: initial;
            }

        </style>
    </noscript>
    <link rel="alternate" href="/atom.xml" title="吴志鹏｜Payne-Wu" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
    <div class="container">
        <div class="headband"></div>
        <header class="header" itemscope itemtype="http://schema.org/WPHeader">
            <div class="header-inner">
                <div class="site-brand-container">
                    <div class="site-nav-toggle">
                        <div class="toggle" aria-label="切换导航栏">
                            <span class="toggle-line toggle-line-first"></span>
                            <span class="toggle-line toggle-line-middle"></span>
                            <span class="toggle-line toggle-line-last"></span>
                        </div>
                    </div>
                    <div class="site-meta">
                        <a href="/" class="brand" rel="start">
                            <span class="logo-line-before"><i></i></span>
                            <h1 class="site-title">吴志鹏｜Payne-Wu </h1>
                            <span class="logo-line-after"><i></i></span>
                        </a>
                    </div>
                    <div class="site-nav-right">
                        <div class="toggle popup-trigger">
                            <i class="fa fa-search fa-fw fa-lg"></i>
                        </div>
                    </div>
                </div>
                <nav class="site-nav">
                    <ul id="menu" class="main-menu menu">
                        <li class="menu-item menu-item-home">
                            <a href="/" rel="section">首页</a>
                        </li>
                        <li class="menu-item menu-item-archives">
                            <a href="/archives/" rel="section">文章列表</a>
                        </li>
                        <li class="menu-item menu-item-tags">
                            <a href="/tags/" rel="section">Tags Cloud</a>
                        </li>
                        <li class="menu-item menu-item-categories">
                            <a href="/categories/" rel="section">文章集合</a>
                        </li>
                        <li class="menu-item menu-item-about">
                            <a href="/about/" rel="section">关于我啊</a>
                        </li>
                        <li class="menu-item menu-item-message">
                            <a href="/message/" rel="section">留言与我</a>
                        </li>
                        <li class="menu-item menu-item-search">
                            <a role="button" class="popup-trigger">搜索 </a>
                        </li>
                    </ul>
                </nav>
                <div class="search-pop-overlay">
                    <div class="popup search-popup">
                        <div class="search-header">
                            <span class="search-icon">
                                <i class="fa fa-search"></i>
                            </span>
                            <div class="search-input-container">
                                <input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input">
                            </div>
                            <span class="popup-btn-close">
                                <i class="fa fa-times-circle"></i>
                            </span>
                        </div>
                        <div id="search-result">
                            <div id="no-result">
                                <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <div class="back-to-top">
            <i class="fa fa-arrow-up"></i>
            <span>0%</span>
        </div>
        <div class="reading-progress-bar"></div>
        <main class="main">
            <div class="main-inner">
                <div class="content-wrap">
                    <div class="content post posts-expand">
                        <article itemscope itemtype="http://schema.org/Article" class="post-block single" lang="zh-CN">
                            <link itemprop="mainEntityOfPage" href="https://paynewu.com/51496.html">
                            <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
                                <meta itemprop="image" content="/images/favicon/android-chrome-512x512.png">
                                <meta itemprop="name" content="吴志鹏">
                                <meta itemprop="description" content="Talk is free，please state clearly">
                            </span>
                            <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                                <meta itemprop="name" content="吴志鹏｜Payne-Wu">
                            </span>
                            <header class="post-header">
                                <h1 class="post-title" itemprop="name headline"> Redis服务与连接那些事儿 </h1>
                                <div class="post-meta">
                                    <span class="post-meta-item">
                                        <span class="post-meta-item-icon">
                                            <i class="far fa-user"></i>
                                        </span>
                                        <span class="post-meta-item-text">作者</span>
                                        <span><a href="/authors/Payne" class="author" itemprop="url" rel="index">Payne</a></span>
                                    </span>
                                    <span class="post-meta-item">
                                        <span class="post-meta-item-icon">
                                            <i class="far fa-calendar"></i>
                                        </span>
                                        <span class="post-meta-item-text">发表于</span>
                                        <time title="创建时间：2021-01-18 01:28:06" itemprop="dateCreated datePublished" datetime="2021-01-18T01:28:06+08:00">2021-01-18</time>
                                    </span>
                                    <span class="post-meta-item">
                                        <span class="post-meta-item-icon">
                                            <i class="far fa-folder"></i>
                                        </span>
                                        <span class="post-meta-item-text">分类于</span>
                                        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                                            <a href="/categories/Redis/" itemprop="url" rel="index"><span itemprop="name">Redis</span></a>
                                        </span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                                            <a href="/categories/Redis/NoSQL/" itemprop="url" rel="index"><span itemprop="name">NoSQL</span></a>
                                        </span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                                            <a href="/categories/Redis/NoSQL/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                                        </span>
                                    </span>
                                    <br>
                                    <span class="post-meta-item" title="本文字数">
                                        <span class="post-meta-item-icon">
                                            <i class="far fa-file-word"></i>
                                        </span>
                                        <span class="post-meta-item-text">本文字数：</span>
                                        <span>2.4k</span>
                                    </span>
                                    <span class="post-meta-item" title="阅读时长">
                                        <span class="post-meta-item-icon">
                                            <i class="far fa-clock"></i>
                                        </span>
                                        <span class="post-meta-item-text">阅读时长 &asymp;</span>
                                        <span>2 分钟</span>
                                    </span>
                                </div>
                            </header>
                            <div class="post-body" itemprop="articleBody">
                                <h2 id="启动示例"><a href="#启动示例" class="headerlink" title="启动示例"></a>启动示例</h2>
                                <p>当我们需要使用Redis的时候需要把redis的服务开启。如下</p>
                                <figure class="highlight sh">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="comment"># 启动</span></span><br><span class="line">redis-server</span><br><span class="line"><span class="comment"># 守护进程方式启动</span></span><br><span class="line">redis-server &amp;</span><br><span class="line"><span class="comment"># 使用自定义redis.conf启动</span></span><br><span class="line">redis-server path</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <a id="more"></a>
                                <p><code>redis-server</code>如图</p>
                                <p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gmoqnuejzfj31so0mitc6.jpg" alt=""></p>
                                <p>这样虽然是启动了，但是这个终端却用不了了，我个人并不是很喜欢。那么有没有可以让他既可以运行，而且保证不会占用我们的终端呢</p>
                                <p>这里有两种方法</p>
                                <ul>
                                    <li>
                                        <p>使用<code>redis-server &amp;</code>明显启动示例即可</p>
                                    </li>
                                    <li>
                                        <p>redis-server ——daemonize yes (以守护进程的方式运行redis)</p>
                                        <p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gmpopzvxl4j30s40cq0u4.jpg" alt=""></p>
                                    </li>
                                </ul>
                                <blockquote>
                                    <p>小技巧：</p>
                                    <p>redis-server —配置名 配置的值</p>
                                    <p>例如：redis-server —port 8765 此时你就可以在你的8765端口上运行redis</p>
                                    <p>这样就可以无需修改redis.conf,就可以定制化的运行redis</p>
                                </blockquote>
                                <h3 id="Redis-conf"><a href="#Redis-conf" class="headerlink" title="Redis.conf"></a>Redis.conf</h3>
                                <p>既然看过redis的配置文档，不自己亲手试一试怎么能行。话不多说直接开干。以下为给出最基本的的redis.conf，当然如果有需要也按需添加一些。</p>
                                <figure class="highlight routeros">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">mkdir /database/6379</span><br><span class="line">cat &gt; /database/6379/redis.conf&lt;&lt;EOF</span><br><span class="line">daemonize <span class="literal">yes</span></span><br><span class="line">port 6379</span><br><span class="line">logfile /database/6379/redis.log</span><br><span class="line">dir /database/6379</span><br><span class="line">dbfilename dump.rdb</span><br><span class="line">EOF</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <blockquote>
                                    <p>守护进程(后台)运行:daemonize yes<br>配置端口号 port 6379<br>配置日志 logfile /database/6379/redis.log<br>持久化文件存储位置 dir /database/6379<br>RDB持久化数据文件 dbfilename dump.rdb</p>
                                </blockquote>
                                <p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gmppbthbjgj31c80kktbr.jpg" alt=""></p>
                                <p>以上就已经完成了redis服务启动的部分，那么我们接下来看看redis的连接部分</p>
                                <h2 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h2>
                                <figure class="highlight sh">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="comment"># 本地连接</span></span><br><span class="line">redis-cli	<span class="comment"># 相当于 redis-cli -h 127.0.0.1 -p 6379</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 远程连接</span></span><br><span class="line">redis-cli -h host -p port -a passwd</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gmq0bbke7zj30e0044745.jpg" alt=""></p>
                                <p>如图：出现此“unicode”编码显示问题，改如何解决？</p>
                                <p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gmq0dsx7o1j30zw06adft.jpg" alt=""></p>
                                <p>本地连接直接使用<code>redis-cli</code>，直接在本地连接即可。此过不多赘述</p>
                                <p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gmq0glrkj0j31pc07udgu.jpg" alt=""></p>
                                <blockquote>
                                    <p>DENIED Redis is running in protected mode because protected mode is enabled, no bind address was specified, no authentication password is requested to clients. In this mode connections are only accepted from the loopback interface. If you want to connect from external computers to Redis you may adopt one of the following solutions:<br>1) Just disable protected mode sending the command ‘CONFIG SET protected-mode no’ from the loopback interface by connecting to Redis from the same host the server is running, however MAKE SURE Redis is not publicly accessible from internet if you do so. Use CONFIG REWRITE to make this change permanent.<br>2) Alternatively you can just disable the protected mode by editing the Redis configuration file, and setting the protected mode option to ‘no’, and then restarting the server.<br>3) If you started the server manually just for testing, restart it with the ‘—protected-mode no’ option.<br>4) Setup a bind address or an authentication password. NOTE: You only need to do one of the above things in order for the server to start accepting connections from the outside.</p>
                                    <p>译文：DENIED Redis正在保护模式下运行，因为已启用保护模式、未指定绑定地址、未向客户端请求身份验证密码。在这种模式下，只接受来自环回接口的连接。如果您想从外部计算机连接到Redis</p>
                                    <p>只需通过从服务器运行的同一主机连接到Redis，从环回接口发送命令’CONFIG SET protected mode no’来禁用保护模式，但是如果这样做，请确保Redis不能从internet公开访问。使用CONFIG REWRITE将此更改永久化</p>
                                    <p>您可以通过编辑Redis配置文件，将protectedmode选项设置为no，然后重新启动服务器来禁用protectedmode。</p>
                                    <p>如果只是为了测试而手动启动服务器，请使用“-protected mode no”选项重新启动服务器</p>
                                    <p>设置绑定地址或身份验证密码。</p>
                                    <p>服务器就可以开始接受来自外部的连接。</p>
                                </blockquote>
                                <p>那么从以上得知，redis是默认关闭远程连接以及开启保护模式。开启远程连接的方式有以下几种</p>
                                <ol>
                                    <li>在本地(打开redis服务)的机器，采用回环地址连接(即是127.0.0.1)，连接redis，后使用<code>CONFIG SET protected mode no</code>就可以允许远程连接(推荐)，使用CONFIG<br>REWRITE将此更改永久化</li>
                                    <li>在配置文件中关闭保护模式<code>protected mode no</code>,重启redis服务(不推荐)</li>
                                    <li>关闭redis服务，使用<code>redis-server -protected mode no</code>，启动服务</li>
                                    <li>配置ip访问或密码(最推荐)</li>
                                </ol>
                                <p>综上，我们来配置一下我们的<code>redis.conf</code>，如下</p>
                                <figure class="highlight routeros">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">daemonize <span class="literal">yes</span></span><br><span class="line">port 6379</span><br><span class="line">logfile /database/6379/redis.log</span><br><span class="line">dir /database/6379</span><br><span class="line">dbfilename dump.rdb</span><br><span class="line">requirepass 123321</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h2 id="性能测试"><a href="#性能测试" class="headerlink" title="性能测试"></a>性能测试</h2>
                                <p>说到性能与测试这两个都是，大家一直关心的问题。那么redis的性能测试该怎么做呢。咋这里我们了解一下<code>redis-brnchmark</code></p>
                                <p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gmq49jlh69j31ao0nmjw9.jpg" alt=""></p>
                                <p>具体参数如下</p>
                                <figure class="highlight sh">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">Usage: redis-benchmark [-h &lt;host&gt;] [-p &lt;port&gt;] [-c &lt;clients&gt;] [-n &lt;requests&gt;] [-k &lt;boolean&gt;]</span><br><span class="line"></span><br><span class="line"> -h &lt;hostname&gt;      Server hostname (default 127.0.0.1)</span><br><span class="line"> -p &lt;port&gt;          Server port (default 6379)</span><br><span class="line"> -s &lt;socket&gt;        Server socket (overrides host and port)</span><br><span class="line"> -a &lt;password&gt;      Password <span class="keyword">for</span> Redis Auth</span><br><span class="line"> --user &lt;username&gt;  Used to send ACL style <span class="string">'AUTH username pass'</span>. Needs -a.</span><br><span class="line"> -c &lt;clients&gt;       Number of parallel connections (default 50)</span><br><span class="line"> -n &lt;requests&gt;      Total number of requests (default 100000)</span><br><span class="line"> -d &lt;size&gt;          Data size of SET/GET value <span class="keyword">in</span> bytes (default 3)</span><br><span class="line"> --dbnum &lt;db&gt;       SELECT the specified db number (default 0)</span><br><span class="line"> --threads &lt;num&gt;    Enable multi-thread mode.</span><br><span class="line"> --cluster          Enable cluster mode.</span><br><span class="line"> --<span class="built_in">enable</span>-tracking  Send CLIENT TRACKING on before starting benchmark.</span><br><span class="line"> -k &lt;boolean&gt;       1=keep alive 0=reconnect (default 1)</span><br><span class="line"> -r &lt;keyspacelen&gt;   Use random keys <span class="keyword">for</span> SET/GET/INCR, random values <span class="keyword">for</span> SADD,</span><br><span class="line">                    random members and scores <span class="keyword">for</span> ZADD.</span><br><span class="line">  Using this option the benchmark will expand the string __rand_int__</span><br><span class="line">  inside an argument with a 12 digits number <span class="keyword">in</span> the specified range</span><br><span class="line">  from 0 to keyspacelen-1. The substitution changes every time a <span class="built_in">command</span></span><br><span class="line">  is executed. Default tests use this to hit random keys <span class="keyword">in</span> the</span><br><span class="line">  specified range.</span><br><span class="line"> -P &lt;numreq&gt;        Pipeline &lt;numreq&gt; requests. Default 1 (no pipeline).</span><br><span class="line"> -e                 If server replies with errors, show them on stdout.</span><br><span class="line">                    (no more than 1 error per second is displayed)</span><br><span class="line"> -q                 Quiet. Just show query/sec values</span><br><span class="line"> --precision        Number of decimal places to display <span class="keyword">in</span> latency output (default 0)</span><br><span class="line"> --csv              Output <span class="keyword">in</span> CSV format</span><br><span class="line"> -l                 Loop. Run the tests forever</span><br><span class="line"> -t &lt;tests&gt;         Only run the comma separated list of tests. The <span class="built_in">test</span></span><br><span class="line">                    names are the same as the ones produced as output.</span><br><span class="line"> -I                 Idle mode. Just open N idle connections and <span class="built_in">wait</span>.</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line"></span><br><span class="line"> Run the benchmark with the default configuration against 127.0.0.1:6379:</span><br><span class="line">   $ redis-benchmark</span><br><span class="line"></span><br><span class="line"> Use 20 parallel clients, <span class="keyword">for</span> a total of 100k requests, against 192.168.1.1:</span><br><span class="line">   $ redis-benchmark -h 192.168.1.1 -p 6379 -n 100000 -c 20</span><br><span class="line"></span><br><span class="line"> Fill 127.0.0.1:6379 with about 1 million keys only using the SET <span class="built_in">test</span>:</span><br><span class="line">   $ redis-benchmark -t <span class="built_in">set</span> -n 1000000 -r 100000000</span><br><span class="line"></span><br><span class="line"> Benchmark 127.0.0.1:6379 <span class="keyword">for</span> a few commands producing CSV output:</span><br><span class="line">   $ redis-benchmark -t ping,<span class="built_in">set</span>,get -n 100000 --csv</span><br><span class="line"></span><br><span class="line"> Benchmark a specific <span class="built_in">command</span> line:</span><br><span class="line">   $ redis-benchmark -r 10000 -n 10000 <span class="built_in">eval</span> <span class="string">'return redis.call("ping")'</span> 0</span><br><span class="line"></span><br><span class="line"> Fill a list with 10000 random elements:</span><br><span class="line">   $ redis-benchmark -r 10000 -n 10000 lpush mylist __rand_int__</span><br><span class="line"></span><br><span class="line"> On user specified <span class="built_in">command</span> lines __rand_int__ is replaced with a random <span class="built_in">integer</span></span><br><span class="line"> with a range of values selected by the -r option.</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h2 id="在线修改配置"><a href="#在线修改配置" class="headerlink" title="在线修改配置"></a>在线修改配置</h2>
                                <figure class="highlight sh">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">CONFIG GET	*(配置名，例如daemonize，protected-mode等)				<span class="comment"># 查看配置</span></span><br><span class="line">CONFIG RESETSTAT	<span class="comment"># 命令用于重置 INFO 命令中的某些统计数据</span></span><br><span class="line">CONFIG REWRITE		<span class="comment"># 将修改的设置回写配置文件</span></span><br><span class="line">CONFIG SET			  <span class="comment"># 设置参数</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight sh">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">CONFIG GET	*</span><br><span class="line"><span class="comment"># 输出结果如下</span></span><br><span class="line">  1) <span class="string">"rdbchecksum"</span>                                                                                                           </span><br><span class="line">  2) <span class="string">"yes"</span>                                                                                                                   </span><br><span class="line">  3) <span class="string">"daemonize"</span>                                                                                                             </span><br><span class="line">  4) <span class="string">"yes"</span>                                                                                                                   </span><br><span class="line">  5) <span class="string">"io-threads-do-reads"</span>                                                                                                   </span><br><span class="line">  6) <span class="string">"no"</span>                                                                                                                    </span><br><span class="line">  7) <span class="string">"lua-replicate-commands"</span>                                                                                                </span><br><span class="line">  8) <span class="string">"yes"</span>                                                                                                                   </span><br><span class="line">  9) <span class="string">"always-show-logo"</span>                                                                                                      </span><br><span class="line"> 10) <span class="string">"no"</span>                                                                                                                    </span><br><span class="line"> 11) <span class="string">"protected-mode"</span>                                                                                                        </span><br><span class="line"> 12) <span class="string">"yes"</span>                                                                                                                   </span><br><span class="line"> 13) <span class="string">"rdbcompression"</span>                                                                                                        </span><br><span class="line"> 14) <span class="string">"yes"</span>                                                                                                                   </span><br><span class="line"> 15) <span class="string">"rdb-del-sync-files"</span>                                                                                                    </span><br><span class="line"> 16) <span class="string">"no"</span>                                                                                                                    </span><br><span class="line"> 17) <span class="string">"activerehashing"</span>                                                                                                       </span><br><span class="line"> 18) <span class="string">"yes"</span>                                                                                                                   </span><br><span class="line"> 19) <span class="string">"stop-writes-on-bgsave-error"</span>                                                                                           </span><br><span class="line"> 20) <span class="string">"yes"</span>                                                                                                                   </span><br><span class="line"> 21) <span class="string">"dynamic-hz"</span>                                                                                                            </span><br><span class="line"> 22) <span class="string">"yes"</span>                                                                                                                   </span><br><span class="line"> 23) <span class="string">"lazyfree-lazy-eviction"</span>                                                                                                </span><br><span class="line"> 24) <span class="string">"no"</span>                                                                                                                    </span><br><span class="line"> 25) <span class="string">"lazyfree-lazy-expire"</span>                                                                                                  </span><br><span class="line"> 26) <span class="string">"no"</span>                                                                                                                    </span><br><span class="line"> 27) <span class="string">"lazyfree-lazy-server-del"</span>                                                                                              </span><br><span class="line"> 28) <span class="string">"no"</span>                                                                                                                    </span><br><span class="line"> 29) <span class="string">"lazyfree-lazy-user-del"</span>                                                                                                </span><br><span class="line"> 30) <span class="string">"no"</span>                                                                                                                    </span><br><span class="line"> 31) <span class="string">"repl-disable-tcp-nodelay"</span>                                                                                              </span><br><span class="line"> 32) <span class="string">"no"</span>                                                                                                                    </span><br><span class="line"> 33) <span class="string">"repl-diskless-sync"</span>                                                                                                    </span><br><span class="line"> 34) <span class="string">"no"</span>                                                                                                                    </span><br><span class="line"> 35) <span class="string">"gopher-enabled"</span>                                                                                                        </span><br><span class="line"> 36) <span class="string">"no"</span>                                                                                                                    </span><br><span class="line"> 37) <span class="string">"aof-rewrite-incremental-fsync"</span></span><br><span class="line"> 38) <span class="string">"yes"</span></span><br><span class="line"> 39) <span class="string">"no-appendfsync-on-rewrite"</span></span><br><span class="line"> 40) <span class="string">"no"</span></span><br><span class="line"> 41) <span class="string">"cluster-require-full-coverage"</span></span><br><span class="line"> 42) <span class="string">"yes"</span></span><br><span class="line"> 43) <span class="string">"rdb-save-incremental-fsync"</span></span><br><span class="line"> 44) <span class="string">"yes"</span></span><br><span class="line"> 45) <span class="string">"aof-load-truncated"</span></span><br><span class="line"> 46) <span class="string">"yes"</span></span><br><span class="line"> 47) <span class="string">"aof-use-rdb-preamble"</span></span><br><span class="line"> 48) <span class="string">"yes"</span></span><br><span class="line"> 49) <span class="string">"cluster-replica-no-failover"</span></span><br><span class="line"> 50) <span class="string">"no"</span></span><br><span class="line"> 51) <span class="string">"cluster-slave-no-failover"</span></span><br><span class="line"> 52) <span class="string">"no"</span></span><br><span class="line"> 53) <span class="string">"replica-lazy-flush"</span></span><br><span class="line"> 54) <span class="string">"no"</span></span><br><span class="line"> 55) <span class="string">"slave-lazy-flush"</span></span><br><span class="line"> 56) <span class="string">"no"</span></span><br><span class="line"> 57) <span class="string">"replica-serve-stale-data"</span></span><br><span class="line"> 58) <span class="string">"yes"</span></span><br><span class="line"> 59) <span class="string">"slave-serve-stale-data"</span></span><br><span class="line"> 60) <span class="string">"yes"</span></span><br><span class="line"> 61) <span class="string">"replica-read-only"</span></span><br><span class="line"> 62) <span class="string">"yes"</span></span><br><span class="line"> 63) <span class="string">"slave-read-only"</span></span><br><span class="line"> 64) <span class="string">"yes"</span></span><br><span class="line"> 65) <span class="string">"replica-ignore-maxmemory"</span></span><br><span class="line"> 66) <span class="string">"yes"</span></span><br><span class="line"> 67) <span class="string">"slave-ignore-maxmemory"</span></span><br><span class="line"> 68) <span class="string">"yes"</span></span><br><span class="line"> 69) <span class="string">"jemalloc-bg-thread"</span></span><br><span class="line"> 70) <span class="string">"yes"</span></span><br><span class="line"> 71) <span class="string">"activedefrag"</span></span><br><span class="line"> 72) <span class="string">"no"</span></span><br><span class="line"> 73) <span class="string">"syslog-enabled"</span></span><br><span class="line"> 74) <span class="string">"no"</span></span><br><span class="line"> 75) <span class="string">"cluster-enabled"</span></span><br><span class="line"> 76) <span class="string">"no"</span></span><br><span class="line"> 77) <span class="string">"appendonly"</span></span><br><span class="line"> 78) <span class="string">"no"</span></span><br><span class="line"> 79) <span class="string">"cluster-allow-reads-when-down"</span></span><br><span class="line"> 80) <span class="string">"no"</span></span><br><span class="line"> 81) <span class="string">"aclfile"</span></span><br><span class="line"> 82) <span class="string">""</span></span><br><span class="line"> 83) <span class="string">"unixsocket"</span></span><br><span class="line"> 84) <span class="string">""</span></span><br><span class="line"> 85) <span class="string">"pidfile"</span></span><br><span class="line"> 86) <span class="string">"/var/run/redis.pid"</span></span><br><span class="line"> 87) <span class="string">"replica-announce-ip"</span></span><br><span class="line"> 88) <span class="string">""</span></span><br><span class="line"> 89) <span class="string">"slave-announce-ip"</span></span><br><span class="line"> 90) <span class="string">""</span></span><br><span class="line"> 91) <span class="string">"masteruser"</span></span><br><span class="line"> 92) <span class="string">""</span></span><br><span class="line"> 93) <span class="string">"masterauth"</span></span><br><span class="line"> 94) <span class="string">""</span></span><br><span class="line"> 95) <span class="string">"cluster-announce-ip"</span></span><br><span class="line"> 96) <span class="string">""</span></span><br><span class="line"> 97) <span class="string">"syslog-ident"</span></span><br><span class="line"> 98) <span class="string">"redis"</span></span><br><span class="line"> 99) <span class="string">"dbfilename"</span></span><br><span class="line">100) <span class="string">"dump.rdb"</span></span><br><span class="line">101) <span class="string">"appendfilename"</span></span><br><span class="line">102) <span class="string">"appendonly.aof"</span></span><br><span class="line">103) <span class="string">"server_cpulist"</span></span><br><span class="line">104) <span class="string">""</span></span><br><span class="line">105) <span class="string">"bio_cpulist"</span></span><br><span class="line">106) <span class="string">""</span></span><br><span class="line">107) <span class="string">"aof_rewrite_cpulist"</span></span><br><span class="line">108) <span class="string">""</span></span><br><span class="line">109) <span class="string">"bgsave_cpulist"</span></span><br><span class="line">110) <span class="string">""</span></span><br><span class="line">111) <span class="string">"ignore-warnings"</span></span><br><span class="line">112) <span class="string">"ARM64-COW-BUG"</span></span><br><span class="line">113) <span class="string">"supervised"</span></span><br><span class="line">114) <span class="string">"no"</span></span><br><span class="line">115) <span class="string">"syslog-facility"</span></span><br><span class="line">116) <span class="string">"local0"</span></span><br><span class="line">117) <span class="string">"repl-diskless-load"</span></span><br><span class="line">118) <span class="string">"disabled"</span></span><br><span class="line">119) <span class="string">"loglevel"</span></span><br><span class="line">120) <span class="string">"notice"</span></span><br><span class="line">121) <span class="string">"maxmemory-policy"</span></span><br><span class="line">122) <span class="string">"noeviction"</span></span><br><span class="line">123) <span class="string">"appendfsync"</span></span><br><span class="line">124) <span class="string">"everysec"</span></span><br><span class="line">125) <span class="string">"oom-score-adj"</span></span><br><span class="line">126) <span class="string">"no"</span></span><br><span class="line">127) <span class="string">"databases"</span></span><br><span class="line">128) <span class="string">"16"</span></span><br><span class="line">129) <span class="string">"port"</span></span><br><span class="line">130) <span class="string">"6379"</span></span><br><span class="line">131) <span class="string">"io-threads"</span></span><br><span class="line">132) <span class="string">"1"</span></span><br><span class="line">133) <span class="string">"auto-aof-rewrite-percentage"</span></span><br><span class="line">134) <span class="string">"100"</span></span><br><span class="line">135) <span class="string">"cluster-replica-validity-factor"</span></span><br><span class="line">136) <span class="string">"10"</span></span><br><span class="line">137) <span class="string">"cluster-slave-validity-factor"</span></span><br><span class="line">138) <span class="string">"10"</span></span><br><span class="line">139) <span class="string">"list-max-ziplist-size"</span></span><br><span class="line">140) <span class="string">"-2"</span></span><br><span class="line">141) <span class="string">"tcp-keepalive"</span></span><br><span class="line">142) <span class="string">"300"</span></span><br><span class="line">143) <span class="string">"cluster-migration-barrier"</span></span><br><span class="line">144) <span class="string">"1"</span></span><br><span class="line">145) <span class="string">"active-defrag-cycle-min"</span></span><br><span class="line">146) <span class="string">"1"</span></span><br><span class="line">147) <span class="string">"active-defrag-cycle-max"</span></span><br><span class="line">148) <span class="string">"25"</span></span><br><span class="line">149) <span class="string">"active-defrag-threshold-lower"</span></span><br><span class="line">150) <span class="string">"10"</span></span><br><span class="line">151) <span class="string">"active-defrag-threshold-upper"</span></span><br><span class="line">152) <span class="string">"100"</span></span><br><span class="line">153) <span class="string">"lfu-log-factor"</span></span><br><span class="line">154) <span class="string">"10"</span></span><br><span class="line">155) <span class="string">"lfu-decay-time"</span></span><br><span class="line">156) <span class="string">"1"</span></span><br><span class="line">157) <span class="string">"replica-priority"</span></span><br><span class="line">158) <span class="string">"100"</span></span><br><span class="line">159) <span class="string">"slave-priority"</span></span><br><span class="line">160) <span class="string">"100"</span></span><br><span class="line">161) <span class="string">"repl-diskless-sync-delay"</span></span><br><span class="line">162) <span class="string">"5"</span></span><br><span class="line">163) <span class="string">"maxmemory-samples"</span></span><br><span class="line">164) <span class="string">"5"</span></span><br><span class="line">165) <span class="string">"timeout"</span></span><br><span class="line">166) <span class="string">"0"</span></span><br><span class="line">167) <span class="string">"replica-announce-port"</span></span><br><span class="line">168) <span class="string">"0"</span></span><br><span class="line">169) <span class="string">"slave-announce-port"</span></span><br><span class="line">170) <span class="string">"0"</span></span><br><span class="line">171) <span class="string">"tcp-backlog"</span></span><br><span class="line">172) <span class="string">"511"</span></span><br><span class="line">173) <span class="string">"cluster-announce-bus-port"</span></span><br><span class="line">174) <span class="string">"0"</span></span><br><span class="line">175) <span class="string">"cluster-announce-port"</span></span><br><span class="line">176) <span class="string">"0"</span></span><br><span class="line">177) <span class="string">"repl-timeout"</span></span><br><span class="line">178) <span class="string">"60"</span></span><br><span class="line">179) <span class="string">"repl-ping-replica-period"</span></span><br><span class="line">180) <span class="string">"10"</span></span><br><span class="line">181) <span class="string">"repl-ping-slave-period"</span></span><br><span class="line">182) <span class="string">"10"</span></span><br><span class="line">183) <span class="string">"list-compress-depth"</span></span><br><span class="line">184) <span class="string">"0"</span></span><br><span class="line">185) <span class="string">"rdb-key-save-delay"</span></span><br><span class="line">186) <span class="string">"0"</span></span><br><span class="line">187) <span class="string">"key-load-delay"</span></span><br><span class="line">188) <span class="string">"0"</span></span><br><span class="line">189) <span class="string">"active-expire-effort"</span></span><br><span class="line">190) <span class="string">"1"</span></span><br><span class="line">191) <span class="string">"hz"</span></span><br><span class="line">192) <span class="string">"10"</span></span><br><span class="line">193) <span class="string">"min-replicas-to-write"</span></span><br><span class="line">194) <span class="string">"0"</span></span><br><span class="line">195) <span class="string">"min-slaves-to-write"</span></span><br><span class="line">196) <span class="string">"0"</span></span><br><span class="line">197) <span class="string">"min-replicas-max-lag"</span></span><br><span class="line">198) <span class="string">"10"</span></span><br><span class="line">199) <span class="string">"min-slaves-max-lag"</span></span><br><span class="line">200) <span class="string">"10"</span></span><br><span class="line">201) <span class="string">"maxclients"</span></span><br><span class="line">202) <span class="string">"10000"</span></span><br><span class="line">203) <span class="string">"active-defrag-max-scan-fields"</span></span><br><span class="line">204) <span class="string">"1000"</span></span><br><span class="line">205) <span class="string">"slowlog-max-len"</span></span><br><span class="line">206) <span class="string">"128"</span></span><br><span class="line">207) <span class="string">"acllog-max-len"</span></span><br><span class="line">208) <span class="string">"128"</span></span><br><span class="line">209) <span class="string">"lua-time-limit"</span></span><br><span class="line">210) <span class="string">"5000"</span></span><br><span class="line">211) <span class="string">"cluster-node-timeout"</span></span><br><span class="line">212) <span class="string">"15000"</span></span><br><span class="line">213) <span class="string">"slowlog-log-slower-than"</span></span><br><span class="line">214) <span class="string">"10000"</span></span><br><span class="line">215) <span class="string">"latency-monitor-threshold"</span></span><br><span class="line">216) <span class="string">"0"</span></span><br><span class="line">217) <span class="string">"proto-max-bulk-len"</span></span><br><span class="line">218) <span class="string">"536870912"</span></span><br><span class="line">219) <span class="string">"stream-node-max-entries"</span></span><br><span class="line">220) <span class="string">"100"</span></span><br><span class="line">221) <span class="string">"repl-backlog-size"</span></span><br><span class="line">222) <span class="string">"1048576"</span></span><br><span class="line">223) <span class="string">"maxmemory"</span></span><br><span class="line">224) <span class="string">"0"</span></span><br><span class="line">225) <span class="string">"hash-max-ziplist-entries"</span></span><br><span class="line">226) <span class="string">"512"</span></span><br><span class="line">227) <span class="string">"set-max-intset-entries"</span></span><br><span class="line">228) <span class="string">"512"</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <blockquote>
                                    <p>小技巧：</p>
                                    <p>config get 支持模糊匹配，例如包含所有re开头的配置名，<code>config get re*</code>,</p>
                                    <p>所有配置名包含<code>re</code>的配置，可以使用<code>config get *re*</code></p>
                                </blockquote>
                                <h3 id="在线修改密码"><a href="#在线修改密码" class="headerlink" title="在线修改密码"></a>在线修改密码</h3>
                                <p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gmqn2c3zruj31e00943zd.jpg" alt=""></p>
                                <p>原本的密码是<code>123321</code>,这里我们将它修改为<code>123123123</code>,再一次去连接它。发现此时的密码已经修改</p>
                                <p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gmqn3y1i0ej30wy0agdgx.jpg" alt=""></p>
                            </div>
                            <div class="popular-posts-header">相关文章</div>
                            <ul class="popular-posts">
                                <li class="popular-posts-item">
                                    <div class="popular-posts-title"><a href="/16021.html" rel="bookmark">Redis概览与安装</a></div>
                                </li>
                                <li class="popular-posts-item">
                                    <div class="popular-posts-title"><a href="/882995737.html" rel="bookmark">redis持久化那些事儿</a></div>
                                </li>
                                <li class="popular-posts-item">
                                    <div class="popular-posts-title"><a href="/22168.html" rel="bookmark">粗谈Redis事物</a></div>
                                </li>
                                <li class="popular-posts-item">
                                    <div class="popular-posts-title"><a href="/12856.html" rel="bookmark">详探Redis.conf</a></div>
                                </li>
                                <li class="popular-posts-item">
                                    <div class="popular-posts-title"><a href="/507251385.html" rel="bookmark">MySQL优化</a></div>
                                </li>
                            </ul>
                            <footer class="post-footer">
                                <div class="post-tags">
                                    <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag"><i class="fa fa-tag"></i> 数据库</a>
                                    <a href="/tags/Redis/" rel="tag"><i class="fa fa-tag"></i> Redis</a>
                                    <a href="/tags/NoSQL/" rel="tag"><i class="fa fa-tag"></i> NoSQL</a>
                                </div>
                                <div class="post-nav">
                                    <div class="post-nav-item">
                                        <a href="/12856.html" rel="prev" title="详探Redis.conf">
                                            <i class="fa fa-chevron-left"></i> 详探Redis.conf </a>
                                    </div>
                                    <div class="post-nav-item">
                                        <a href="/22168.html" rel="next" title="粗谈Redis事物"> 粗谈Redis事物 <i class="fa fa-chevron-right"></i>
                                        </a>
                                    </div>
                                </div>
                            </footer>
                        </article>
                    </div>
                    <script>
                        window.addEventListener('tabs:register', () =>
                        {
                            let
                            {
                                activeClass
                            } = CONFIG.comments;
                            if (CONFIG.comments.storage)
                            {
                                activeClass = localStorage.getItem('comments_active') || activeClass;
                            }
                            if (activeClass)
                            {
                                let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
                                if (activeTab)
                                {
                                    activeTab.click();
                                }
                            }
                        });
                        if (CONFIG.comments.storage)
                        {
                            window.addEventListener('tabs:click', event =>
                            {
                                if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
                                let commentClass = event.target.classList[1];
                                localStorage.setItem('comments_active', commentClass);
                            });
                        }

                    </script>
                </div>
                <div class="toggle sidebar-toggle">
                    <span class="toggle-line toggle-line-first"></span>
                    <span class="toggle-line toggle-line-middle"></span>
                    <span class="toggle-line toggle-line-last"></span>
                </div>
                <aside class="sidebar">
                    <div class="sidebar-inner">
                        <ul class="sidebar-nav motion-element">
                            <li class="sidebar-nav-toc"> 文章目录 </li>
                            <li class="sidebar-nav-overview"> 站点概览 </li>
                        </ul>
                        <!--noindex-->
                        <div class="post-toc-wrap sidebar-panel">
                            <div class="post-toc motion-element">
                                <ol class="nav">
                                    <li class="nav-item nav-level-2"><a class="nav-link" href="#启动示例"><span class="nav-number">1.</span> <span class="nav-text">启动示例</span></a>
                                        <ol class="nav-child">
                                            <li class="nav-item nav-level-3"><a class="nav-link" href="#Redis-conf"><span class="nav-number">1.1.</span> <span class="nav-text">Redis.conf</span></a></li>
                                        </ol>
                                    </li>
                                    <li class="nav-item nav-level-2"><a class="nav-link" href="#连接"><span class="nav-number">2.</span> <span class="nav-text">连接</span></a></li>
                                    <li class="nav-item nav-level-2"><a class="nav-link" href="#性能测试"><span class="nav-number">3.</span> <span class="nav-text">性能测试</span></a></li>
                                    <li class="nav-item nav-level-2"><a class="nav-link" href="#在线修改配置"><span class="nav-number">4.</span> <span class="nav-text">在线修改配置</span></a>
                                        <ol class="nav-child">
                                            <li class="nav-item nav-level-3"><a class="nav-link" href="#在线修改密码"><span class="nav-number">4.1.</span> <span class="nav-text">在线修改密码</span></a></li>
                                        </ol>
                                    </li>
                                </ol>
                            </div>
                        </div>
                        <!--/noindex-->
                        <div class="site-overview-wrap sidebar-panel">
                            <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
                                <img class="site-author-image" itemprop="image" alt="吴志鹏" src="/images/favicon/android-chrome-512x512.png">
                                <p class="site-author-name" itemprop="name">吴志鹏</p>
                                <div class="site-description" itemprop="description">Talk is free，please state clearly</div>
                            </div>
                            <div class="site-state-wrap motion-element">
                                <nav class="site-state">
                                    <div class="site-state-item site-state-posts">
                                        <a href="/archives/">
                                            <span class="site-state-item-count">136</span>
                                            <span class="site-state-item-name">日志</span>
                                        </a>
                                    </div>
                                    <div class="site-state-item site-state-categories">
                                        <a href="/categories/">
                                            <span class="site-state-item-count">158</span>
                                            <span class="site-state-item-name">分类</span></a>
                                    </div>
                                    <div class="site-state-item site-state-tags">
                                        <a href="/tags/">
                                            <span class="site-state-item-count">89</span>
                                            <span class="site-state-item-name">标签</span></a>
                                    </div>
                                </nav>
                            </div>
                            <div class="links-of-author motion-element">
                                <span class="links-of-author-item">
                                    <a href="https://github.com/Payne-Wu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Payne-Wu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
                                </span>
                                <span class="links-of-author-item">
                                    <a href="mailto:wuzhipeng1289690157@gmail.com" title="E-Mail → mailto:wuzhipeng1289690157@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
                                </span>
                                <span class="links-of-author-item">
                                    <a href="https://www.zhihu.com/people/wu-zhi-peng-72-78" title="ZhiHu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;wu-zhi-peng-72-78" rel="noopener" target="_blank"><i class="fa fa-magic fa-fw"></i>ZhiHu</a>
                                </span>
                                <span class="links-of-author-item">
                                    <a href="https://weibo.com/u/6987234483" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;6987234483" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
                                </span>
                            </div>
                        </div>
                    </div>
                </aside>
                <div id="sidebar-dimmer"></div>
            </div>
        </main>
        <footer class="footer">
            <div class="footer-inner">
                <div class="copyright"> &copy; <span itemprop="copyrightYear">2022</span>
                    <span class="with-love">
                        <i class="fa fa-heart"></i>
                    </span>
                    <span class="author" itemprop="copyrightHolder">PayneWu</span>
                    <span class="post-meta-divider">|</span>
                    <span class="post-meta-item-icon">
                        <i class="fa fa-chart-area"></i>
                    </span>
                    <span title="站点总字数">255k</span>
                    <span class="post-meta-divider">|</span>
                    <span class="post-meta-item-icon">
                        <i class="fa fa-coffee"></i>
                    </span>
                    <span title="站点阅读时长">3:51</span>
                </div>
                <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">湘ICP备2021019893号-1 </a>
                </div>
                <div style="display: none;">
                    <script src="//s95.cnzz.com/z_stat.php?id=true&web_id=true"></script>
                </div>
            </div>
        </footer>
    </div>
    <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
    <script src="/js/utils.js"></script>
    <script src="/.js"></script>
    <script src="/js/schemes/pisces.js"></script>
    <script src="/.js"></script>
    <script src="/js/next-boot.js"></script>
    <script src="/.js"></script>
    <script>
        (function ()
        {
            var canonicalURL, curProtocol;
            //Get the <link> tag
            var x = document.getElementsByTagName("link");
            //Find the last canonical URL
            if (x.length > 0)
            {
                for (i = 0; i < x.length; i++)
                {
                    if (x[i].rel.toLowerCase() == 'canonical' && x[i].href)
                    {
                        canonicalURL = x[i].href;
                    }
                }
            }
            //Get protocol
            if (!canonicalURL)
            {
                curProtocol = window.location.protocol.split(':')[0];
            }
            else
            {
                curProtocol = canonicalURL.split(':')[0];
            }
            //Get current URL if the canonical URL does not exist
            if (!canonicalURL) canonicalURL = window.location.href;
            //Assign script content. Replace current URL with the canonical URL
            ! function ()
            {
                var e = /([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,
                    r = canonicalURL,
                    t = document.referrer;
                if (!e.test(r))
                {
                    var n = (String(curProtocol).toLowerCase() === 'https') ? "https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif" : "//api.share.baidu.com/s.gif";
                    t ? (n += "?r=" + encodeURIComponent(document.referrer), r && (n += "&l=" + r)) : r && (n += "?l=" + r);
                    var i = new Image;
                    i.src = n
                }
            }(window);
        })();

    </script>
    <script src="/js/local-search.js"></script>
    <script src="/.js"></script>
</body>

</html>
